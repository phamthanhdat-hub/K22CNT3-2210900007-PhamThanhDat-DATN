<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>ÄÄƒng kÃ½ khÃ¡ch hÃ ng | BabyCutie</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="header">
    <div class="container header-wrap">
        <div class="logo" onclick="location='index.html'">
            <img src="images/logo2.jpg">
            <span>BabyCutie</span>
        </div>
        <nav>
            <a href="index.html">Trang chá»§</a>
            <a href="login-khach.html">ÄÄƒng nháº­p</a>
        </nav>
    </div>
</header>

<section class="login-page">
    <div class="login-box">

        <h2>ğŸ“ ÄÄƒng kÃ½ tÃ i khoáº£n</h2>
        <p>Táº¡o tÃ i khoáº£n Ä‘á»ƒ Ä‘áº·t chÃ¡o cho bÃ©</p>

        <div class="input-group">
            <input id="hoTen" placeholder="Há» tÃªn">
        </div>

        <div class="input-group">
            <input id="email" type="email" placeholder="Email">
        </div>

        <div class="input-group">
            <input id="matKhau" type="password" placeholder="Máº­t kháº©u">
        </div>

        <div class="input-group">
            <input id="dienThoai" placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i">
        </div>

        <div class="input-group">
            <input id="diaChi" placeholder="Äá»‹a chá»‰">
        </div>

        <button class="btn-primary w-100" onclick="dangKy()">
            ÄÄƒng kÃ½
        </button>

        <hr>

        <p>
            ÄÃ£ cÃ³ tÃ i khoáº£n?
            <a href="login-khach.html"><b>ÄÄƒng nháº­p</b></a>
        </p>

    </div>
</section>

<footer class="footer">
    <div class="container footer-wrap">
        <div><b>BabyCutie</b></div>
        <div>ChÃ¡o dinh dÆ°á»¡ng cho bÃ© yÃªu</div>
    </div>
</footer>

<script>
function dangKy() {
    const hoTen = document.getElementById("hoTen").value;
    const email = document.getElementById("email").value;
    const matKhau = document.getElementById("matKhau").value;
    const dienThoai = document.getElementById("dienThoai").value;
    const diaChi = document.getElementById("diaChi").value;

    if (!hoTen || !email || !matKhau) {
        alert("Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin báº¯t buá»™c");
        return;
    }

    fetch("http://127.0.0.1:5000/api/auth/register", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            hoTen,
            email,
            matKhau,
            dienThoai,
            diaChi
        })
    })
    .then(res => res.json())
    .then(data => {
        if (data.success) {
            alert("ğŸ‰ ÄÄƒng kÃ½ thÃ nh cÃ´ng! Vui lÃ²ng Ä‘Äƒng nháº­p");
            location.href = "login-khach.html";
        } else {
            alert(data.message);
        }
    })
    .catch(() => alert("âŒ Lá»—i Ä‘Äƒng kÃ½"));
}
</script>

</body>
</html>
